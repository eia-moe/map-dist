(function(e){function t(t){for(var o,i,s=t[0],c=t[1],l=t[2],u=0,p=[];u<s.length;u++)i=s[u],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&p.push(n[i][0]),n[i]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);d&&d(t);while(p.length)p.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],o=!0,i=1;i<a.length;i++){var c=a[i];0!==n[c]&&(o=!1)}o&&(r.splice(t--,1),e=s(s.s=a[0]))}return e}var o={},n={app:0},r=[];function i(e){return s.p+"js/"+({}[e]||e)+"."+{"chunk-2d0ba6db":"3200a349","chunk-2d0e5240":"f8074f15","chunk-2d208bfd":"6a858843","chunk-2d2183fc":"1ad5881d","chunk-2d22fd2e":"1d5509fe"}[e]+".js"}function s(t){if(o[t])return o[t].exports;var a=o[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.e=function(e){var t=[],a=n[e];if(0!==a)if(a)t.push(a[2]);else{var o=new Promise((function(t,o){a=n[e]=[t,o]}));t.push(a[2]=o);var r,c=document.createElement("script");c.charset="utf-8",c.timeout=120,s.nc&&c.setAttribute("nonce",s.nc),c.src=i(e);var l=new Error;r=function(t){c.onerror=c.onload=null,clearTimeout(u);var a=n[e];if(0!==a){if(a){var o=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+o+": "+r+")",l.name="ChunkLoadError",l.type=o,l.request=r,a[1](l)}n[e]=void 0}};var u=setTimeout((function(){r({type:"timeout",target:c})}),12e4);c.onerror=c.onload=r,document.head.appendChild(c)}return Promise.all(t)},s.m=e,s.c=o,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(a,o,function(t){return e[t]}.bind(null,o));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/map-dist/",s.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var d=l;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";a("85ec")},"09e0":function(e,t,a){},1:function(e,t){},10:function(e,t){},11:function(e,t){},12:function(e,t){},13:function(e,t){},14:function(e,t){},15:function(e,t){},1748:function(e){e.exports=JSON.parse('[{"id":"0","name":"Google Hybrid","visible":true,"minNativeZoom":0,"maxNativeZoom":19,"attribution":"&copy; <a target=\\"_blank\\" href=\\"eia.moe\\">Testing Only</a>","url":"https://mt.google.com/vt/lyrs=y&x={x}&y={y}&z={z}"},{"id":"2","name":"Google Road Map","visible":true,"minNativeZoom":0,"maxNativeZoom":19,"attribution":"&copy; <a target=\\"_blank\\" href=\\"eia.moe\\">Testing Only</a>","url":"https://mt.google.com/vt/lyrs=r&x={x}&y={y}&z={z}"},{"id":"3","name":"Open Street Map","visible":false,"minNativeZoom":0,"maxNativeZoom":19,"attribution":"&copy; <a target=\\"_blank\\" href=\\"http://osm.org/copyright\\">OpenStreetMap</a>","url":"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"},{"id":"4","name":"Apple Satellite","visible":false,"minNativeZoom":0,"maxNativeZoom":19,"url":"https://api.mapbox.com/styles/v1/initru/cjb1sr77mdq7t2rn7pkb0brzc/tiles/256/{z}/{x}/{y}?access_token=pk.eyJ1IjoiaW5pdHJ1IiwiYSI6ImNqYXNiczcyYTFrODYyeG1pdmk2cXZlemMifQ.llXkc2vY4v-Cc31k19SAkg","attribution":"&copy; <a target=\\"_blank\\" href=\\"eia.moe\\">Testing Only</a>"},{"id":"5","name":"ESRI Topo","visible":false,"minNativeZoom":0,"maxNativeZoom":15,"url":"http://services.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}","attribution":"Map data: &copy; <a href=\\"http://www.esri.com\\">esri.com</a>"},{"id":"6","name":"ESRI Satellite","visible":false,"minNativeZoom":0,"maxNativeZoom":17,"url":"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}","attribution":"Map data: &copy; <a href=\\"http://www.esri.com\\">esri.com</a>"},{"id":"7","name":"ESRI Shaded Relief","visible":false,"minNativeZoom":0,"maxNativeZoom":13,"url":"https://server.arcgisonline.com/ArcGIS/rest/services/World_Shaded_Relief/MapServer/tile/{z}/{y}/{x}","attribution":"Map data: &copy; <a href=\\"http://www.esri.com\\">esri.com</a>"},{"id":"8","name":"JICA100K","visible":false,"minNativeZoom":0,"maxNativeZoom":15,"url":"https://raw.githubusercontent.com/kunthet/jica100k/master/JICA100K/{z}/{x}/{y}.jpg","attribution":"Map data: &copy; <a href=\\"http://www.esri.com\\">esri.com</a>"}]')},1756:function(e,t,a){},2:function(e,t){},"2b56":function(e,t,a){"use strict";a("09e0")},3:function(e,t){},4:function(e,t){},4360:function(e,t,a){"use strict";a("4de4"),a("d3b7");var o=a("2b0e"),n=a("2f62"),r=a("761f"),i=a("4eaa");o["a"].use(n["a"]),t["a"]=new n["a"].Store({state:{dataLoaded:!1,projects:{features:[]},windowWidth:0,windowHeight:0,filter:function(e){return!0},selectionFilter:function(e){return!1},selectionBounds:[],noneExpiredProjectFilter:function(e){return i["a"].getExpiryStatus(e)!==r["a"].expiry.expired}},mutations:{initProjectList:function(e,t){e.projects=t},windowSize:function(e,t,a){e.windowWidth=t,e.windowHeight=a}},getters:{geojson:function(e,t){return e.projects},esiaGeoJson:function(e,t){return i["a"].filterGeoJsonByProperty(t.geojson,"lic_type","ESIA",e.noneExpiredProjectFilter)},iesiaGeoJson:function(e,t){return i["a"].filterGeoJsonByProperty(t.geojson,"lic_type","IESIA",e.noneExpiredProjectFilter)},epcGeoJson:function(e,t){return i["a"].filterGeoJsonByProperty(t.geojson,"lic_type","EPC",e.noneExpiredProjectFilter)},expiredGeoJson:function(e,t){return i["a"].filterGeoJson(t.geojson,(function(e){return i["a"].getExpiryStatus(e)===r["a"].expiry.expired}))},selectedFeatures:function(e,t){return i["a"].filterGeoJson(t.geojson,e.selectionFilter)},selectionBounds:function(e,t){return e.selectionBounds},windowWidth:function(e){return e.windowWidth}},actions:{setFilter:function(e,t){var a=e.state;a.filter=t},setSelectionFilter:function(e,t){var a=e.state;a.selectionFilter=t},clearSelectionFilter:function(e){var t=e.state;t.selectionFilter=function(e){return!1}},setSelectionBounds:function(e,t){var a=e.state;a.selectionBounds=t}},modules:{}})},"4eaa":function(e,t,a){"use strict";var o=a("5530"),n=a("2909"),r=(a("d3b7"),a("25f0"),a("ac1f"),a("5319"),a("5b81"),a("b64b"),a("07ac"),a("4ec9"),a("3ca3"),a("ddb0"),a("99af"),a("1276"),a("498a"),a("4de4"),a("e400")),i=a.n(r),s=a("761f");t["a"]={en2kh:function(e){for(var t="០១២៣៤៥៦៧៨៩",a="0123456789",o=e.toString(),n=0;n<a.length;n++)o=o.replaceAll(a[n],t[n]);return o},getExpiryStatus:function(e){var t=e.properties.lic_expiry;return t?new Date(t)<new Date?s["a"].expiry.expired:s["a"].expiry.active:s["a"].expiry.NA},getBounds:function(e){var t=i()(e),a=[{lat:t[1],lng:t[0]},{lat:t[3],lng:t[2]}];return a},getYear:function(e){var t=s["a"].labelOtherYears,a=this.getDate(e);if(!a)return t;var o=a.getFullYear();return isNaN(o)?t:o},getDate:function(e){var t=e.properties.lic_date;return t?new Date(t):null},getType:function(e){return e.properties.lic_type},getCode:function(e){return e.properties.pro_code},getLabelAndData:function(e){var t=Object.keys(e),a=Object.values(e);return{labels:t,data:a}},featureSelected:function(e,t){var a=this.filterGeoJsonByProperty(e,"pro_code",this.getCode(t));return a.features.length>0},countValuesInMap:function(e){var t=new Map;for(var a in e)if(Object.hasOwnProperty.call(e,a)){var o=e[a];t[a]=o.length}return t},countFeaturesByTypes:function(e){var t=this.groupFeaturesByTypes(e);return this.countValuesInMap(t)},countFeaturesByYears:function(e){var t=this.groupFeaturesByYears(e);return this.countValuesInMap(t)},countFeaturesByProvinces:function(e){var t=this.groupFeaturesByProvinces(e);return this.countValuesInMap(t)},groupFeaturesBy:function(e,t){return e.reduce((function(e,a){return(e[a.properties[t]]=e[a.properties[t]]||[]).push(a),e}),{})},groupFeaturesByTypes:function(e){return this.groupFeaturesBy(e,"lic_type")},groupFeaturesByYears:function(e){var t=new Map;for(var a in e)if(Object.hasOwnProperty.call(e,a)){var o=e[a],r=this.getYear(o),i=t[r];t[r]=i?[].concat(Object(n["a"])(i),[o]):[o]}return t},groupFeaturesByProvinces:function(e){for(var t=new Map,a=0;a<e.length;a++){var o=e[a];if(o.properties&&o.properties.loc_khet)for(var r=o.properties.loc_khet.split(","),i=0;i<r.length;i++){var s=r[i].trim(),c=t[s];t[s]=c?[].concat(Object(n["a"])(c),[o]):[o]}}return t},filterGeoJson:function(e,t){var a=e.features.filter((function(e){return t(e)}));return Object(o["a"])(Object(o["a"])({},e),{},{features:a})},filterGeoJsonByProperty:function(e,t,a,o){return o?this.filterGeoJson(e,(function(e){return e.properties[t]===a&&o(e)})):this.filterGeoJson(e,(function(e){return e.properties[t]===a}))}}},5:function(e,t){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var o=a("2b0e"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("router-view",{attrs:{windowWidth:e.windowWidth,windowHeight:e.windowHeight}})},r=[],i=a("4360"),s={name:"App",data:function(){return{windowHeight:window.innerHeight,windowWidth:window.innerWidth}},mounted:function(){var e=this;this.$nextTick((function(){window.addEventListener("resize",e.onResize),i["a"].commit("windowSize",window.innerWidth,window.innerHeight)}))},beforeDestroy:function(){window.removeEventListener("resize",this.onResize)},methods:{onResize:function(){this.windowHeight=window.innerHeight,this.windowWidth=window.innerWidth,i["a"].commit("windowSize",this.windowWidth,this.windowHeight)}}},c=s,l=(a("034f"),a("2877")),u=Object(l["a"])(c,n,r,!1,null,null,null),d=u.exports,p=(a("d3b7"),a("3ca3"),a("ddb0"),a("8c4f")),h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"},[a("LMap",{attrs:{"max-zoom":20,bounds:e.bounds,options:e.mapOptions},on:{"update:bounds":function(t){e.bounds=t},mouseover:e.collapseAllMenus,mousedown:e.onMapClicked}},[a("LTileLayer",{key:e.tileProvider.name,attrs:{name:e.tileProvider.name,url:e.tileProvider.url,attribution:e.tileProvider.attribution,minNativeZoom:e.tileProvider.minNativeZoom,options:{maxNativeZoom:e.tileProvider.maxNativeZoom,maxZoom:100},"layer-type":"base"}}),e.showEsiaLayer?a("LLayerGroup",{attrs:{"layer-type":"overlay",name:"ESIA"}},[a("LGeoJson",{attrs:{geojson:e.esia,options:e.options}})],1):e._e(),e.showIesiaLayer?a("LLayerGroup",{attrs:{"layer-type":"overlay",name:"IESIA"}},[a("LGeoJson",{attrs:{geojson:e.iesia,options:e.options}})],1):e._e(),e.showEpcLayer?a("LLayerGroup",{attrs:{"layer-type":"overlay",name:"EPC"}},[a("LGeoJson",{attrs:{geojson:e.epc,options:e.options}})],1):e._e(),e.showExpiredLayer?a("LLayerGroup",{attrs:{"layer-type":"overlay",name:"Expired"}},[a("LGeoJson",{attrs:{geojson:e.expired,options:e.options}})],1):e._e(),e._e(),a("LLayerGroup",{attrs:{"layer-type":"overlay",name:"Selected Features"}},[a("LGeoJson",{attrs:{geojson:e.selectedFeatures,options:e.optionSelectedFeatures}})],1),a("LControl",{staticClass:"pop-menu"},[a("PopMenu",{on:{selected:e.menuSelected},model:{value:e.expandMenu,callback:function(t){e.expandMenu=t},expression:"expandMenu"}})],1),a("LControl",{staticClass:"pop-menu"},[a("LayerMenu",{on:{onBasemapChanged:e.onBasemapChanged,"esia-layer-checked":e.toggleEsiaLayer,"iesia-layer-checked":e.toggleIesiaLayer,"epc-layer-checked":e.toggleEpcLayer,"expired-layer-checked":e.toggleExpiredLayer},model:{value:e.expandLayerMenu,callback:function(t){e.expandLayerMenu=t},expression:"expandLayerMenu"}})],1),a("LControl",{staticClass:"custom-control-watermark watermark",attrs:{position:"topleft"}},[a("img",{attrs:{src:e.watermark,width:e.windowWidth/(e.smallScreen()?3:8)}})]),a("LControlZoom",{attrs:{position:"topright"}}),e.showChart?a("LControl",{staticClass:"chart-panel",attrs:{position:"bottomleft"}},[a("Dashboard",{attrs:{height:300,width:e.chartWidth},on:{"close-chart":function(t){e.showChart=!1}}})],1):e._e()],1)],1)},f=[],m=(a("a9e3"),a("cb29"),a("161b")),y=a("761f"),g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{on:{mouseover:function(t){e.toggleShowMenu=!0},mouseleave:function(t){e.toggleShowMenu=!1}}},[a("ul",{class:"main-menu "+(e.value?"button-close":""),on:{click:function(t){return e.$emit("input",!e.value)}}},[a("li",[a("a",{attrs:{href:"#"}},[a("i",{class:e.mainMenuClass,attrs:{"aria-hidden":"true"}}),e._v(" "+e._s(e.value?"Cancal":"")+" ")])])]),e.value?a("div",[a("ul",{staticClass:"menu"},[a("li",[a("a",{attrs:{href:"#"},on:{click:function(t){return e.onClick(0)}}},[a("i",{staticClass:"fa fa-chart-line",attrs:{"aria-hidden":"true"}}),e._v(" ក្រាហ្វិក ")])]),a("li",[a("a",{attrs:{href:"#"},on:{click:function(t){return e.onClick(1)}}},[a("i",{staticClass:"fa fa-list",attrs:{"aria-hidden":"true"}}),e._v(" បញ្ជីគម្រោង ")])]),a("li",[a("a",{attrs:{href:"#"},on:{click:function(t){return e.onClick(2)}}},[a("i",{staticClass:"fa fa-search",attrs:{"aria-hidden":"true"}}),e._v(" Search ")])])])]):e._e()])},v=[],w={name:"PopMenu",props:{value:{type:Boolean,default:!1}},components:{},data:function(){return{}},methods:{onClick:function(e){this.$emit("input",!1),this.$emit("selected",e)}},computed:{toggleShowMenu:{get:function(){return this.expanded},set:function(e){this.$emit("input",e)}},mainMenuClass:function(){return this.value?"fa fa-times button-close":"fa fa-bars"}},watch:{}},b=w,L=(a("f1fb"),Object(l["a"])(b,g,v,!1,null,"585aed5b",null)),S=L.exports,x=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{on:{mouseover:function(t){e.toggleShowMenu=!0},mouseleave:function(t){e.toggleShowMenu=!1}}},[a("ul",{class:"main-menu "+(e.value?"button-close":""),on:{click:function(t){return e.$emit("input",!e.value)}}},[a("li",[a("a",{attrs:{href:"#"}},[a("i",{class:e.mainMenuClass,attrs:{"aria-hidden":"true"}}),e._v(" "+e._s(e.value?"Cancal":"")+" ")])])]),e.value?a("div",[e._v(" Layers: "),a("div",{staticClass:"layer-control"},[a("label",{attrs:{for:"esia-layer"},on:{click:function(t){return e.onLayerSelected("esia-layer-checked",e.toggleShowEsiaLayer)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.toggleShowEsiaLayer,expression:"toggleShowEsiaLayer"}],attrs:{type:"checkbox",id:"esia-layer"},domProps:{checked:Array.isArray(e.toggleShowEsiaLayer)?e._i(e.toggleShowEsiaLayer,null)>-1:e.toggleShowEsiaLayer},on:{change:function(t){var a=e.toggleShowEsiaLayer,o=t.target,n=!!o.checked;if(Array.isArray(a)){var r=null,i=e._i(a,r);o.checked?i<0&&(e.toggleShowEsiaLayer=a.concat([r])):i>-1&&(e.toggleShowEsiaLayer=a.slice(0,i).concat(a.slice(i+1)))}else e.toggleShowEsiaLayer=n}}}),a("i",{staticClass:"far fa-square",style:e.esiaLegendStyle,attrs:{"aria-hidden":"true"}}),e._v(" ESIA ")])]),a("div",{staticClass:"layer-control"},[a("label",{attrs:{for:"iesia-layer"},on:{click:function(t){return e.onLayerSelected("iesia-layer-checked",e.toggleShowIesiaLayer)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.toggleShowIesiaLayer,expression:"toggleShowIesiaLayer"}],attrs:{type:"checkbox",id:"iesia-layer"},domProps:{checked:Array.isArray(e.toggleShowIesiaLayer)?e._i(e.toggleShowIesiaLayer,null)>-1:e.toggleShowIesiaLayer},on:{change:function(t){var a=e.toggleShowIesiaLayer,o=t.target,n=!!o.checked;if(Array.isArray(a)){var r=null,i=e._i(a,r);o.checked?i<0&&(e.toggleShowIesiaLayer=a.concat([r])):i>-1&&(e.toggleShowIesiaLayer=a.slice(0,i).concat(a.slice(i+1)))}else e.toggleShowIesiaLayer=n}}}),a("i",{staticClass:"far fa-square",style:e.iesiaLegendStyle,attrs:{"aria-hidden":"true"}}),e._v(" IESIA ")])]),a("div",{staticClass:"layer-control"},[a("label",{attrs:{for:"epc-layer"},on:{click:function(t){return e.onLayerSelected("epc-layer-checked",e.toggleShowEpcLayer)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.toggleShowEpcLayer,expression:"toggleShowEpcLayer"}],attrs:{type:"checkbox",id:"epc-layer"},domProps:{checked:Array.isArray(e.toggleShowEpcLayer)?e._i(e.toggleShowEpcLayer,null)>-1:e.toggleShowEpcLayer},on:{change:function(t){var a=e.toggleShowEpcLayer,o=t.target,n=!!o.checked;if(Array.isArray(a)){var r=null,i=e._i(a,r);o.checked?i<0&&(e.toggleShowEpcLayer=a.concat([r])):i>-1&&(e.toggleShowEpcLayer=a.slice(0,i).concat(a.slice(i+1)))}else e.toggleShowEpcLayer=n}}}),a("i",{staticClass:"far fa-square",style:e.epcLegendStyle,attrs:{"aria-hidden":"true"}}),e._v(" EPC ")])]),a("div",{staticClass:"layer-control"},[a("label",{attrs:{for:"expired-layer"},on:{click:function(t){return e.onLayerSelected("expired-layer-checked",e.toggleShowExpiredLayer)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.toggleShowExpiredLayer,expression:"toggleShowExpiredLayer"}],attrs:{type:"checkbox",id:"expired-layer"},domProps:{checked:Array.isArray(e.toggleShowExpiredLayer)?e._i(e.toggleShowExpiredLayer,null)>-1:e.toggleShowExpiredLayer},on:{change:function(t){var a=e.toggleShowExpiredLayer,o=t.target,n=!!o.checked;if(Array.isArray(a)){var r=null,i=e._i(a,r);o.checked?i<0&&(e.toggleShowExpiredLayer=a.concat([r])):i>-1&&(e.toggleShowExpiredLayer=a.slice(0,i).concat(a.slice(i+1)))}else e.toggleShowExpiredLayer=n}}}),a("i",{staticClass:"far fa-square",style:e.expiredLegendStyle,attrs:{"aria-hidden":"true"}}),e._v(" Expired ")])]),a("br"),e._v(" Basemaps: "),a("div",{staticClass:"basemaps"},e._l(e.basemaps,(function(t){return a("div",{key:t.id},[a("label",{attrs:{for:t.id},on:{click:function(a){return e.onBasemapChanged(t)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedBasemap,expression:"selectedBasemap"}],attrs:{type:"radio",name:t.name,id:t.id},domProps:{value:t.id,checked:e._q(e.selectedBasemap,t.id)},on:{change:function(a){e.selectedBasemap=t.id}}}),a("img",{attrs:{src:e.rasterIcon,width:"18"}}),e._v(" "+e._s(t.name)+" ")])])})),0),a("br")]):e._e()])},_=[],C=a("d263"),k=a.n(C),E=a("1748"),j=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"field__radio",class:[e.value===e.v_value?"field__radio--checked":""]},[a("label",{attrs:{for:e.id},on:{click:e.onClick}},[a("input",{attrs:{type:"radio",name:e.name,id:e.id},domProps:{value:e.label}}),a("img",{attrs:{src:e.url,width:"22"}}),e._v(" "+e._s(e.label)+" ")])])},O=[],I={name:"InputRadio",props:{value:{},v_value:{},label:{type:String,default:""},name:{type:String,default:""},id:{type:String,default:""},url:{type:String,default:""}},methods:{onClick:function(){this.$emit("input",this.v_value),console.log(this.v_value)}}},P=I,A=Object(l["a"])(P,j,O,!1,null,null,null),M=A.exports,B={name:"PopMenu",props:{value:{type:Boolean,default:!1}},components:{InputRadio:M},data:function(){return{selectedBasemap:"0",toggleShowEsiaLayer:!0,toggleShowIesiaLayer:!0,toggleShowEpcLayer:!0,toggleShowExpiredLayer:!1,basemaps:E,rasterIcon:k.a}},methods:{onBasemapChanged:function(e){this.$emit("onBasemapChanged",e)},onLayerSelected:function(e,t){this.$emit(e,!t)}},computed:{toggleShowMenu:{get:function(){return this.expanded},set:function(e){this.$emit("input",e)}},mainMenuClass:function(){return this.value?"fa fa-times button-close":"fa fa-layer-group"},esiaLegendStyle:function(){return"color:".concat(y["a"].colors.esia,"; font-size:16px; font-weight:bold")},iesiaLegendStyle:function(){return"color:".concat(y["a"].colors.iesia,"; font-size:16px; font-weight:bold")},epcLegendStyle:function(){return"color:".concat(y["a"].colors.epc,"; font-size:16px; font-weight:bold")},expiredLegendStyle:function(){return"color:".concat(y["a"].colors.expired,"; font-size:16px; font-weight:bold")}},watch:{}},F=B,N=(a("ed32"),Object(l["a"])(F,x,_,!1,null,"eaf4e866",null)),G=N.exports,z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"panel",style:e.size},[a("router-view")],1)},J=[],T=(a("99af"),{name:"FloatingPanel",props:{width:{type:Number,default:300},height:{type:Number,default:300}},computed:{size:function(){return"width: ".concat(this.width,"px; height: ").concat(this.height,"px; ")}}}),W=T,Z=(a("a794"),Object(l["a"])(W,z,J,!1,null,"ebc1faa0",null)),$=Z.exports,H=a("7277"),D=(a("ac1f"),a("5319"),a("5b81"),a("1276"),{en2kh:function(e){for(var t="០១២៣៤៥៦៧៨៩",a="0123456789",o=e,n=0;n<a.length;n++)o=o.replaceAll(a[n],t[n]);return o},format_date:function(e){var t=e.split("-");return 3!==t.length?e:t[2]+"-"+t[1]+"-"+t[0]},html_row:function(e,t,a){return'<tr>                    <th scope="row">'+e+"</th>                    <td>"+t+a+"</td>                </tr>\n"},row:function(e,t,a){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",n=e.properties[t];return null!==n?this.html_row(a,n,o):""},row_kh:function(e,t,a){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",n=e.properties[t];return null==n?"":this.html_row(a,this.en2kh(n),o)},row_date:function(e,t,a){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",n=e.properties[t];return null==n?"":(n=this.format_date(n),this.html_row(a,this.en2kh(n),o))},create_table:function(e){var t="<table>\n";return t+=this.row(e,"owner_kh","Owner KH"),t+=this.row(e,"owner_en","Owner EN"),t+=this.row(e,"type","Type"),t+=this.row(e,"area_li_ha","Size"," Ha"),t+=this.row(e,"lic_type","License"),t+=this.row(e,"loc_khet","Provice"),t+=this.row(e,"loc_srok","District"),t+=this.row(e,"loc_khum","Commune"),t+=this.row(e,"loc_phum","Village"),t+=this.row(e,"loc_name","Location Name"),t+=this.row_date(e,"lic_date","Issued"),t+=this.row_kh(e,"lic_number","Number"," សជណ.បស្ថ"),t+=this.row(e,"status","Status"),t+=this.row(e,"team","Team"),t+=this.row(e,"added_by","Added by"),t+=this.row(e,"reference","Reference"),t+=this.row(e,"pro_code","Code"),t+=this.row(e,"remark","Remark"),t+="</table>",t}}),Y=a("d5b3"),R=a.n(Y),q=a("e11e"),V=a("4eaa"),K=a("2699"),U=a("fbba"),X=a("4e2b6"),Q=a("9ee8"),ee=a("f60f"),te=a("635f"),ae=a("258a"),oe=a("fb8e"),ne=a("a40a"),re=a("1ebb"),ie=a("2253"),se=a("c8b6"),ce=a("044a"),le=[{lat:10.79,lng:102.14},{lat:14.525,lng:107.0343}],ue=Object(q["latLngBounds"])(le),de={name:"Home",props:{windowHeight:Number,windowWidth:Number},components:{LMap:K["a"],LIcon:U["a"],LMarker:X["a"],LControlLayers:Q["a"],LPopup:ee["a"],LPolyline:te["a"],LPolygon:ae["a"],LRectangle:oe["a"],LTileLayer:ne["a"],LLayerGroup:re["a"],LControl:ie["a"],LControlZoom:se["a"],LGeoJson:ce["a"],PopMenu:S,LayerMenu:G,FloatingPanel:$,Dashboard:H["default"]},beforeCreate:function(){var e="https://eia-moe.github.io/map-dist/projects",t={json:!0},o=a("30dc");o(e,t,(function(e,t,a){if(e)return console.log(e);e||200!=t.statusCode||i["a"].commit("initProjectList",a)}))},data:function(){return{isLoading:!0,fillColor:"#e4ce7f",watermark:R.a,bounds:ue,mapOptions:{zoomControl:!1,attributionControl:!1,zoomSnap:!0},tileProvider:E[0],expandMenu:!1,expandLayerMenu:!1,points:le,showChart:!1,showEsiaLayer:!0,showIesiaLayer:!0,showEpcLayer:!0,showExpiredLayer:!1}},computed:{esia:function(){return i["a"].getters.esiaGeoJson},iesia:function(){return i["a"].getters.iesiaGeoJson},epc:function(){return i["a"].getters.epcGeoJson},expired:function(){return i["a"].getters.expiredGeoJson},selectedFeatures:function(){return i["a"].getters.selectedFeatures},optionSelectedFeatures:function(){return{onEachFeature:this.onEachFeatureFunction,style:function(e){return{fillColor:"yellow",color:"yellow",weight:2,opacity:.8,fillOpacity:.6}}}},options:function(){return{onEachFeature:this.onEachFeatureFunction,style:function(e){return V["a"].getExpiryStatus(e)===y["a"].expiry.expired?{weight:2,color:y["a"].colors.expired,opacity:1,fillColor:y["a"].colors.fill,fillOpacity:.5}:"ESIA"===e.properties.lic_type?{weight:3,color:y["a"].colors.esia,opacity:1,fillColor:y["a"].colors.fill,fillOpacity:.3}:"IESIA"===e.properties.lic_type?{weight:3,color:y["a"].colors.iesia,opacity:1,fillColor:y["a"].colors.fill,fillOpacity:.3}:"EPC"===e.properties.lic_type?{weight:3,color:y["a"].colors.epc,opacity:1,fillColor:y["a"].colors.fill,fillOpacity:.3}:{weight:2,color:y["a"].colors.others,opacity:1,fillColor:y["a"].colors.fill,fillOpacity:.1}}}},onEachFeatureFunction:function(){return function(e,t){var a=function(t){var a=V["a"].featureSelected(i["a"].getters.selectedFeatures,e);if(!a){var o=e.properties.pro_code;i["a"].dispatch("setSelectionFilter",(function(e){return o===e.properties.pro_code}))}};t.on("click",a);var o=D.create_table(e),n={permanent:!1,sticky:!0};t.bindPopup(o,n)}},chartWidth:function(){return this.smallScreen()?this.windowWidth-23:600}},mounted:function(){var e=this,t=this;m["a"].unsubscribe(y["a"].events.mapGotoBounds),m["a"].subscribe(y["a"].events.mapGotoBounds,(function(e){t.bounds=Object(q["latLngBounds"])(e.data)})),this.isLoading=!0,setTimeout((function(){e.isLoading=!1}),5e3)},methods:{smallScreen:function(){return this.windowWidth<600},isLandscape:function(){return this.windowWidth>this.windowHeight},menuSelected:function(e){0===e&&(this.showChart=!this.showChart)},onBasemapChanged:function(e){this.tileProvider=e},toggleEsiaLayer:function(e){this.showEsiaLayer=e},toggleIesiaLayer:function(e){this.showIesiaLayer=e},toggleEpcLayer:function(e){this.showEpcLayer=e},toggleExpiredLayer:function(e){this.showExpiredLayer=e},onMenuChange:function(e){this.expandMenu=e},collapseAllMenus:function(){this.expandLayerMenu=!1,this.expandMenu=!1},onMapClicked:function(){i["a"].dispatch("clearSelectionFilter"),this.collapseAllMenus()}},watch:{}},pe=de,he=(a("a55a"),Object(l["a"])(pe,h,f,!1,null,"d92dfc46",null)),fe=he.exports;o["a"].use(p["a"]);var me=[{path:"/",name:"Home",component:fe},{path:"/dashboard",name:"Dashboard",component:function(){return Promise.resolve().then(a.bind(null,"7277"))}},{path:"/:catchAll(.*)*",name:"PageNotFound",component:function(){return a.e("chunk-2d208bfd").then(a.bind(null,"a5b5"))}}],ye=new p["a"]({mode:"history",base:"/map-dist/",routes:me}),ge=ye;a("6cc5");o["a"].config.productionTip=!1,new o["a"]({router:ge,store:i["a"],render:function(e){return e(d)}}).$mount("#app")},6:function(e,t){},6352:function(e,t,a){},"6c88":function(e,t,a){"use strict";a("1756")},7:function(e,t){},7277:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"chart-display",style:e.size},[a("div",{staticClass:"fa fa-times close-button",on:{click:function(t){return e.$emit("close-chart")}}}),a("chart-selector",{staticClass:"chart-selector",on:{selectChanged:e.chartSelected}}),0==e.selectedChart?a("ChartAbstract"):e._e(),1==e.selectedChart?a("ChartByYear"):e._e(),2==e.selectedChart?a("ChartByProvince"):e._e(),3==e.selectedChart?a("ChartByType"):e._e(),4==e.selectedChart?a("ChartByCategory"):e._e()],1)},n=[],r=(a("a9e3"),a("d3b7"),a("3ca3"),a("ddb0"),a("99af"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"selector"},[e._v(" "+e._s(e.title||"ជ្រើសរើសក្រាហ្វិក៖")+" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedItem,expression:"selectedItem"}],on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedItem=t.target.multiple?a:a[0]},e.selectChanged]}},[a("option",{attrs:{value:"0"}},[e._v("សង្ខេបរួម")]),a("option",{attrs:{value:"1"}},[e._v("បែងចែកតាមឆ្នាំ")]),a("option",{attrs:{value:"2"}},[e._v("បែងចែកតាម​ខេត្ត")]),a("option",{attrs:{value:"3"}},[e._v("បែងចែកតាម​ចំណាត់ថ្នាក់គម្រោង")]),a("option",{attrs:{value:"4"}},[e._v("បែងចែកតាម​ប្រភេទគម្រោង")])])])}),i=[],s={name:"ChartAbstract",data:function(){return{selectedItem:"0"}},props:{title:String},methods:{selectChanged:function(e){this.$emit("selectChanged",this.selectedItem)}}},c=s,l=(a("6c88"),a("2877")),u=Object(l["a"])(c,r,i,!1,null,"1fcadc7d",null),d=u.exports,p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("vue-highcharts",{ref:"myCharts",attrs:{options:e.options,plotOptions:e.plotOptions}})],1)},h=[],f=a("2909"),m=a("5530"),y=(a("d81d"),a("b0c0"),a("161b")),g=a("604f"),v=a.n(g),w=a("ea7f"),b=a.n(w),L=a("4360"),S=a("4eaa"),x=a("761f"),_={name:"ChartAbstract",events:["goto-bounds"],components:{VueHighcharts:v.a},data:function(){return{options:null,plotOptions:null,Highcharts:b.a}},methods:{chartSelected:function(e){this.selectedChart=e},smallScreen:function(){return L["a"].getters.windowWidth<=600}},computed:{},mounted:function(){var e=L["a"].getters.geojson,t=e.features,a=S["a"].groupFeaturesByYears(t),o=S["a"].getLabelAndData(a),n=o.labels,r=o.data,i=r.map((function(e){return S["a"].countFeaturesByTypes(e)})),s={type:"column",name:"ESIA",data:[],color:x["a"].colors.esia},c=Object(m["a"])(Object(m["a"])({},s),{},{name:"IESIA",data:[],color:x["a"].colors.iesia}),l=Object(m["a"])(Object(m["a"])({},s),{},{name:"EPC",data:[],color:x["a"].colors.epc}),u=(Object(m["a"])(Object(m["a"])({},s),{},{name:"Expired",data:[],color:x["a"].colors.expired}),{type:"line",name:"សរុប",data:[],marker:{lineWidth:2,lineColor:b.a.getOptions().colors[3],fillColor:"white"}});for(var d in i)if(Object.hasOwnProperty.call(i,d)){var p,h,g,v=i[d],w=null!==(p=v["ESIA"])&&void 0!==p?p:0,_=null!==(h=v["IESIA"])&&void 0!==h?h:0,C=null!==(g=v["EPC"])&&void 0!==g?g:0;s.data=[].concat(Object(f["a"])(s.data),[w]),c.data=[].concat(Object(f["a"])(c.data),[_]),l.data=[].concat(Object(f["a"])(l.data),[C]),u.data=[].concat(Object(f["a"])(u.data),[w+_+C])}var k=s.data.reduce((function(e,t){return e+t}),0),E=c.data.reduce((function(e,t){return e+t}),0),j=l.data.reduce((function(e,t){return e+t}),0),O=k+E+j,I={type:"pie",name:"Total Projects",data:[{name:"ESIA",y:k,color:x["a"].colors.esia},{name:"IESIA",y:E,color:x["a"].colors.iesia},{name:"EPC",y:j,color:x["a"].colors.epc}],center:[45,50],size:100,showInLegend:!1,dataLabels:{enabled:!1}},P=(this.$emit,{pie:{cursor:"pointer",point:{events:{click:function(e){var t=e.point.x,a=I.data[t].name,o=function(e){var t=S["a"].getType(e);return t===a};L["a"].dispatch("setSelectionFilter",o);var n=S["a"].getBounds(L["a"].getters.selectedFeatures);y["a"].publish({type:x["a"].events.mapGotoBounds,data:n})}}}},column:{cursor:"pointer",point:{events:{click:function(e){var t=e.point.x,a=e.point.series.name,o=function(e){var o=S["a"].getYear(e),r=S["a"].getType(e);return o===x["a"].labelOtherYears?o===n[t]&&r===a:o===Number(n[t])&&r===a};L["a"].dispatch("setSelectionFilter",o);var r=S["a"].getBounds(L["a"].getters.selectedFeatures);y["a"].publish({type:x["a"].events.mapGotoBounds,data:r})}}}}}),A=[s,c,l,u,I],M=S["a"].en2kh(O),B={allowPointSelect:!0,title:{text:"ចំនួនគម្រោងបង្ហាញ​នៅ​លើ​ផែនទី \n (សរុប ".concat(M," គម្រោង)")},chart:{height:350},xAxis:{categories:n},yAxis:{title:{text:"ចំនួនគម្រោង"}},labels:{items:[{html:"ចំនួន​ទៅតាម​ចំណាត់ថ្នាក់",style:{left:"10px",top:"0px",color:b.a.theme&&b.a.theme.textColor||"black"}}]},credits:{enabled:!1},series:A,plotOptions:P};this.options=B}},C=_,k=Object(l["a"])(C,p,h,!1,null,null,null),E=k.exports,j={name:"Dashboard",props:{width:{type:Number,default:300},height:{type:Number,default:300}},components:{ChartSelector:d,ChartAbstract:E,ChartByYear:function(){return a.e("chunk-2d22fd2e").then(a.bind(null,"ea51"))},ChartByCategory:function(){return a.e("chunk-2d0ba6db").then(a.bind(null,"36bd"))},ChartByProvince:function(){return a.e("chunk-2d0e5240").then(a.bind(null,"92e6"))},ChartByType:function(){return a.e("chunk-2d2183fc").then(a.bind(null,"c9d4"))}},data:function(){return{selectedChart:0}},computed:{size:function(){return"width: ".concat(this.width,"px; height: ").concat(this.height,"px; ")}},methods:{chartSelected:function(e){this.selectedChart=e}}},O=j,I=(a("2b56"),Object(l["a"])(O,o,n,!1,null,null,null));t["default"]=I.exports},"761f":function(e,t,a){"use strict";t["a"]={expiry:{active:"Active",expired:"Expired",NA:"Not-Available"},labelOtherYears:"Unknown",labelUnknownProjectType:"Unknown",mainChartColor:"#9F4BF2",colors:{esia:"rgba(13,202,0,1.0)",iesia:"rgba(1,170,255,1.0)",epc:"#F50900",expired:"#DDD",others:"#EDE500",fill:"#CCC"},events:{mapGotoBounds:"map-goto-bounds"}}},8:function(e,t){},"85ec":function(e,t,a){},8615:function(e,t,a){},9:function(e,t){},a55a:function(e,t,a){"use strict";a("cae7")},a794:function(e,t,a){"use strict";a("ca5d")},ca5d:function(e,t,a){},cae7:function(e,t,a){},d263:function(e,t,a){e.exports=a.p+"img/raster.b5e29c5d.png"},d5b3:function(e,t,a){e.exports=a.p+"img/watermark.e50dbe09.png"},ed32:function(e,t,a){"use strict";a("6352")},f1fb:function(e,t,a){"use strict";a("8615")}});
//# sourceMappingURL=app.5ffa6308.js.map